@layer components {
  .card {
    display: flex;
    flex-direction: column;
    gap: var(--size-3);
    background: var(--bg);
    color: var(--fg);
    border: 1px solid var(--line);
    border-radius: var(--radius-2);
    padding: var(--size-4);
    width: 100%;
    max-width: var(--card-max-width, 36rem);
    align-self: start; /* avoid grid stretching; cards size to content */
  }

  .card__header {
    display: flex;
    align-items: center;
    gap: var(--size-3);
  }

  .card__media {
    width: 100%;
    overflow: hidden;
    border-radius: var(--radius-2) var(--radius-2) 0 0;
    display: block;
  }

  .card__media img,
  .card__media picture,
  .card__media video {
    display: block;
    width: 100%;
    height: auto;
  }

  .card__title {
    margin: 0;
    font-weight: 700;
    font-size: var(--text-lg);
  }

  .card__subtitle {
    margin: 0;
    color: var(--muted);
    font-size: var(--text-sm);
  }

  .card__body { }

  .card__footer {
    display: flex;
    gap: var(--size-2);
    justify-content: flex-end;
  }

  /* Variants */
  .card--soft {
    background: var(--soft);
  }

  .card--elevated {
    box-shadow: 0 10px 15px -3px rgb(var(--shadow-color) / calc(0.10 * var(--shadow-strength))),
                0 4px 6px -2px rgb(var(--shadow-color) / calc(0.06 * var(--shadow-strength)));
    border-color: color-mix(in srgb, var(--fg) 6%, var(--line));
  }

  .card--interactive {
    transition: transform 120ms ease, box-shadow 120ms ease, border-color 120ms ease;
  }
  .card--interactive:hover {
    transform: translateY(-1px);
    box-shadow: 0 12px 20px -5px rgb(var(--shadow-color) / calc(0.14 * var(--shadow-strength))),
                0 5px 8px -4px rgb(var(--shadow-color) / calc(0.08 * var(--shadow-strength)));
    border-color: color-mix(in srgb, var(--accent) 30%, var(--line));
  }

  .card--borderless {
    border: none;
  }

  .card--bordered {
    border: 1px solid var(--line);
  }

  .card--accented {
    border-top: 3px solid var(--accent);
  }

  /* Horizontal layout */
  .card--horizontal {
    flex-direction: row;
    align-items: stretch;
  }
  .card--horizontal .card__media {
    flex: 0 0 12rem;
    max-width: 40%;
    border-radius: var(--radius-2) 0 0 var(--radius-2);
  }
  .card--horizontal .card__media img,
  .card--horizontal .card__media picture,
  .card--horizontal .card__media video {
    width: 100%;
    height: 100%;
    object-fit: cover;
  }

  /* Note: color/status variants intentionally not provided */

  /* Density */
  .card--compact { padding: var(--size-3); }
  .card--spacious { padding: var(--size-5); }

  /* Width modifiers */
  .card--fluid { max-width: none; }
  .card--narrow { --card-max-width: 24rem; }
  .card--wide { --card-max-width: 48rem; }

  .card--centered {
    width: auto;
    margin-inline: auto;
  }

  .card--stretch {
    align-self: stretch;
  }
}
